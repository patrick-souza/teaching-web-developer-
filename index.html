<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Document</title>
  <link rel="stylesheet" href="index.css" />
  <script src="https://kit.fontawesome.com/8075a56a5a.js" crossorigin="anonymous"></script>
</head>

<body>
  <nav class="left-bar">
    <div>
      <div class="box-image">
        <img src="images/perfil.JPG" alt="" />
      </div>
      <div class="box-text">
        <p>
          <strong>I am Patrick</strong>, a super simple responsive site
          template
        </p>
      </div>
    </div>
    <section>
      <div class="box-social-medias">
        <ul>
          <li>
            <a href="https://twitter.com/Patrick65639821" target="_blank"><i class="fab fa-twitter"></i></a>
          </li>
          <li>
            <a href="https://github.com/PtkSouza1996" target="_blank"><i class="fab fa-github"></i></a>
          </li>
          <li>
            <a href="mailto:patrick.souza@gmail.com" target="_blank"><i class="fas fa-envelope"></i></a>
          </li>
        </ul>
      </div>
      <div class="box-footer">
        <a href="#"><i class="far fa-copyright"></i> Patrick Souza</a>
      </div>
    </section>
  </nav>

  <main class="box-content">
    <div class="about-content">
      <div>
        <p style="font-weight: 600; font-size: 20px">
          Bem vindo ao meu novo site,<br />
          caso queira saber mais sobre meu trabalho
        </p>
      </div>
      <div>
        <p>
          Accumsan orci faucibus id eu lorem semper. Eu ac iaculis ac nunc
          nisi lorem vulputate lorem neque cubilia ac in adipiscing in curae
          lobortis tortor primis integer massa adipiscing id nisi accumsan
          pellentesque commodo blandit enim arcu non at amet id arcu magna.
          Accumsan orci faucibus id eu lorem semper nunc nisi lorem vulputate
          lorem neque cubilia.
        </p>
      </div>
      <a href="#" class="button"> Leia mais </a>
    </div>
    <div class="divider"></div>
    <div class="works-content">
      <h4>Recent Work</h4>
      <div class="work-content">
        <!--  Foto 1 -->
        <div class="work-item">
          <a href="">
            <img src="images/photo1.jpg" alt="foto qualquer" />
          </a>
          <div class="work-description">
            <h4>Photo 1</h4>
            <p>Lorem ipsum dolor sit amet nisl sed nullam feugiat.</p>
          </div>
        </div>
        <!-- Foto 2 -->
        <div class="work-item">
          <a href="">
            <img src="images/photo1.jpg" alt="foto qualquer" />
          </a>
          <div class="work-description">
            <h4>Photo 1</h4>
            <p>Lorem ipsum dolor sit amet nisl sed nullam feugiat.</p>
          </div>
        </div>
        <!--  Foto 3 -->
        <div class="work-item">
          <a href="">
            <img src="images/photo1.jpg" alt="foto qualquer" />
          </a>
          <div class="work-description">
            <h4>Photo 1</h4>
            <p>Lorem ipsum dolor sit amet nisl sed nullam feugiat.</p>
          </div>
        </div>
        <!-- Foto 4 -->
        <div class="work-item">
          <a href="">
            <img src="images/photo1.jpg" alt="foto qualquer" />
          </a>
          <div class="work-description">
            <h4>Photo 1</h4>
            <p>Lorem ipsum dolor sit amet nisl sed nullam feugiat.</p>
          </div>
        </div>
      </div>
      <a href="#" class="button"> Leia mais </a>
    </div>
    <div class="divider"></div>
    <div>
      <h4>Fale comigo</h4>
      <p>
        Accumsan pellentesque commodo blandit enim arcu non at amet id arcu
        magna. Accumsan orci faucibus id eu lorem semper nunc nisi lorem
        vulputate lorem neque lorem ipsum dolor.
      </p>
      <div>
        <form class="form" id="my-form">
          <div style="display: flex; flex: 1; justify-content: space-between">
            <div class="form-group">
              <label for="nome">Nome</label>
              <input type="text" name="nome" />
            </div>
            <div class="form-group">
              <label for="email">Email</label>
              <input type="email" name="email" />
            </div>
          </div>
          <div class="form-group" style="width: 100%">
            <label for="mensagem">Mensagem</label>
            <textarea style="padding: 4px" name="mensagem" rows="5" style="resize: none"></textarea>
          </div>

          <button type="submit" class="button">Enviar Mensagem</button>
        </form>
      </div>
    </div>
    <button onclick="buscar()">Buscar contatos</button>
  </main>
</body>
<script>
    const form = document.getElementById("my-form");
    form.addEventListener("submit", function (event) {
    event.preventDefault();
    const items = Array.from(event.target);

    const payload = items.reduce((acc, element) => {
      if (!element.name) {
        return acc;
      }

      acc = {
        ...acc,
        [element.name]: element.value
      }

      return acc;
    }, {});

    fetch("http://0.0.0.0:3000/", {
      method: "POST",
      headers: {
        'Accept': 'application/json',
        'Content-Type': 'application/json'
      },
      body: JSON.stringify(payload)
    })
      .then(() => {
        console.log('consegui mandar')
      })
    console.log(payload)
  });

    function buscar() {
      fetch("http://0.0.0.0:3000/contatos", {
        method: "get"
      }).then((res) => res.json()).then(console.log)
  }
</script>

</html>